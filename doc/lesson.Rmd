---
title: "Lesson"
author: "Anders"
output:
  html_document: default
  pdf_document: default
---

# 1. Importing my data usring vroom
As I understand vroom is just an automated readr. 

```{r setup, include=FALSE}
library(vroom)
library(here)
library(dplyr)
library(magrittr)
library(fs)
library(tidyverse)
options(dplyr.summarise.inform = FALSE)
devtools::load_all()
```

## Split-Apply-Combine
This s technique for taking a dataset. Splitting it up for something (i.e. male/female). Doing something to it, and bringing it back. 

* Split = Split data into groups
* Apply = you do something to data based on the split
* Combine = Combine the data back up

```{r}
mmash %>% 
  group_by(day) %>% 
  summarise(across(
    c(age, weight, height),
    list(mean = mean, sd = sd, max = max, min = min),
    na.rm = T
  ))
```

## Pivot longer

```{r}
mmash %>% 
  select(-samples) %>%
  pivot_longer(c(-user_id, -day, -gender))
```

Use pivot_longer() after the group_by() and summarise() we did previously:
```{r}
# Data
mmash %>% 
    group_by(day) %>% 
    summarise(across(
        c(age, weight),
        list(mean = mean, sd = sd), 
        na.rm = TRUE
    ))

# Pivot
mmash %>% 
    group_by(day) %>% 
    summarise(across(
        c(age, weight),
        list(mean = mean, sd = sd), 
        na.rm = TRUE
    )) %>%
  pivot_longer(ends_with(c("mean", "sd")))
```

